perceiver == "D" & target == "A" ~ "P2")) %>%
split(.$rating_type) %>%
map_df(~ psych::scoreItems(big6_keys,
items = .,
impute = "none") %>% pluck("alpha")) %>%
mutate(domain = names(big6_keys),
domain = ifelse(domain == "hp", "honesty-propriety", domain)) %>%
gather(report, alpha, -domain) %>%
mutate(report = fct_relevel(report,
"Self",
"P1",
"P2")) %>%
select(report, domain, alpha) %>%
arrange(report) %>%
knitr::kable(digits = c(NA, NA, 2),
caption = "Coefficient Alphas for Big Six Ratings Study 2",
format = "html", escape = F) %>%
kable_styling("striped", full_width = F)
# Lengthen Data
study2_iri_long <-
study2 %>%
select(sess_id, starts_with("B_q"), starts_with("D_q")) %>%
gather(variable, rating, -sess_id) %>%
separate(variable,
c("perceiver", "item"),
extra = "merge") %>%
spread(item, rating)
# Score long data and bind the scores to
# the end of the long data, then widen it back out
# and call it study2, replacing the raw data
study2 <-
psych::scoreItems(iri_keys,
items = study2_iri_long,
impute = "none") %>%
.[["scores"]] %>%
cbind(study2_iri_long, .) %>%
gather(variable, rating, -(1:3)) %>%
unite(variable, perceiver, variable) %>%
spread(variable, rating) %>%
select(sess_id, contains("iri")) %>%
right_join(study2)
library(kableExtra)
psych::scoreItems(iri_keys,
items = study2_iri_long,
impute = "none") %>%
.[["alpha"]] %>%
as_tibble() %>%
gather(subscale, alpha) %>%
mutate(subscale =
case_when(subscale == "iri_empathic" ~ "empathic concern",
subscale == "iri_fantasy" ~ "fantasy",
subscale == "iri_distress" ~ "distress tolerance",
subscale == "iri_perspective" ~ "perspective taking")) %>%
knitr::kable(digits = c(NA, 2),
caption = "Coefficient Alphas for Perspective Taking Study 2",
format = "html", escape = F) %>%
kable_styling("striped", full_width = F)
study1 <-
study1 %>%
# First, mean center the predictors,
# since this is a continuous by continuous interaction.
# We'll do this scale()
mutate(
# first, mean center P2 ratings for each domain
B_C_extraversion_cent      = scale(B_C_extraversion, scale = FALSE),
D_A_extraversion_cent      = scale(D_A_extraversion, scale = FALSE),
B_C_agreeableness_cent     = scale(B_C_agreeableness, scale = FALSE),
D_A_agreeableness_cent     = scale(D_A_agreeableness, scale = FALSE),
B_C_conscientiousness_cent = scale(B_C_conscientiousness, scale = FALSE),
D_A_conscientiousness_cent = scale(D_A_conscientiousness, scale = FALSE),
B_C_neuroticism_cent       = scale(B_C_neuroticism, scale = FALSE),
D_A_neuroticism_cent       = scale(D_A_neuroticism, scale = FALSE),
B_C_openness_cent          = scale(B_C_openness, scale = FALSE),
D_A_openness_cent          = scale(D_A_openness, scale = FALSE),
B_C_hp_cent                = scale(B_C_hp, scale = FALSE),
D_A_hp_cent                = scale(D_A_hp, scale = FALSE),
# next, mean center empathy subscales (only have B and D for this)
# this is a proposed moderator of consensus/accuracy
B_iri_perspective_cent     = scale(B_iri_perspective, scale = FALSE),
D_iri_perspective_cent     = scale(D_iri_perspective, scale = FALSE),
B_iri_empathic_cent        = scale(B_iri_empathic, scale = FALSE),
D_iri_empathic_cent        = scale(D_iri_empathic, scale = FALSE),
B_iri_distress_cent        = scale(B_iri_distress, scale = FALSE),
D_iri_distress_cent        = scale(D_iri_distress, scale = FALSE),
B_iri_fantasy_cent         = scale(B_iri_fantasy, scale = FALSE),
D_iri_fantasy_cent         = scale(D_iri_fantasy, scale = FALSE),
# mean center self-reported extraversion
# this is a proposed moderator of consensus/accuracy
A_A_extraversion_cent      = scale(A_A_extraversion, scale = FALSE),
C_C_extraversion_cent      = scale(C_C_extraversion, scale = FALSE),
A_C_extraversion_cent      = scale(A_C_extraversion, scale = FALSE),
C_A_extraversion_cent      = scale(C_A_extraversion, scale = FALSE),
B_B_extraversion_cent      = scale(B_B_extraversion, scale = FALSE),
D_D_extraversion_cent      = scale(D_D_extraversion, scale = FALSE)) %>%
# Next, create interaction terms
mutate(
# Extraversion moderators (for extraversion)
extraXextra_AB = A_A_extraversion_cent*B_C_extraversion_cent,
extraXextra_CD = C_C_extraversion_cent*D_A_extraversion_cent,
extraXextra_BB = B_B_extraversion_cent*B_C_extraversion_cent,
extraXextra_DD = D_D_extraversion_cent*D_A_extraversion_cent,
extraXextra_CB = C_C_extraversion_cent*B_C_extraversion_cent,
extraXextra_AD = A_A_extraversion_cent*D_A_extraversion_cent,
# Extraversion moderators (for agreeableness)
extraXagree_AB = A_A_extraversion_cent*B_C_agreeableness_cent,
extraXagree_CD = C_C_extraversion_cent*D_A_agreeableness_cent,
extraXagree_BB = B_B_extraversion_cent*B_C_agreeableness_cent,
extraXagree_DD = D_D_extraversion_cent*D_A_agreeableness_cent,
extraXagree_CB = C_C_extraversion_cent*B_C_agreeableness_cent,
extraXagree_AD = A_A_extraversion_cent*D_A_agreeableness_cent,
# Extraversion moderators (for conscientiousness)
extraXconsc_AB = A_A_extraversion_cent*B_C_conscientiousness_cent,
extraXconsc_CD = C_C_extraversion_cent*D_A_conscientiousness_cent,
extraXconsc_BB = B_B_extraversion_cent*B_C_conscientiousness_cent,
extraXconsc_DD = D_D_extraversion_cent*D_A_conscientiousness_cent,
extraXconsc_CB = C_C_extraversion_cent*B_C_conscientiousness_cent,
extraXconsc_AD = A_A_extraversion_cent*D_A_conscientiousness_cent,
# Extraversion moderators (for Neuroticism)
extraXneuro_AB = A_A_extraversion_cent*B_C_neuroticism_cent,
extraXneuro_CD = C_C_extraversion_cent*D_A_neuroticism_cent,
extraXneuro_BB = B_B_extraversion_cent*B_C_neuroticism_cent,
extraXneuro_DD = D_D_extraversion_cent*D_A_neuroticism_cent,
extraXneuro_CB = C_C_extraversion_cent*B_C_neuroticism_cent,
extraXneuro_AD = A_A_extraversion_cent*D_A_neuroticism_cent,
# Extraversion moderators (for Openness)
extraXopen_AB = A_A_extraversion_cent*B_C_openness_cent,
extraXopen_CD = C_C_extraversion_cent*D_A_openness_cent,
extraXopen_BB = B_B_extraversion_cent*B_C_openness_cent,
extraXopen_DD = D_D_extraversion_cent*D_A_openness_cent,
extraXopen_CB = C_C_extraversion_cent*B_C_openness_cent,
extraXopen_AD = A_A_extraversion_cent*D_A_openness_cent,
# Extraversion moderators (for HP)
extraXhp_AB = A_A_extraversion_cent*B_C_hp_cent,
extraXhp_CD = C_C_extraversion_cent*D_A_hp_cent,
extraXhp_BB = B_B_extraversion_cent*B_C_hp_cent,
extraXhp_DD = D_D_extraversion_cent*D_A_hp_cent,
extraXhp_CB = C_C_extraversion_cent*B_C_hp_cent,
extraXhp_AD = A_A_extraversion_cent*D_A_hp_cent,
# perspective taking moderators (for extraversion)
PTxE_B = B_iri_perspective_cent*B_C_extraversion_cent,
PTxE_D = D_iri_perspective_cent*D_A_extraversion_cent,
# perspective taking moderators (for agreeableness)
PTxA_B = B_iri_perspective_cent*B_C_agreeableness_cent,
PTxA_D = D_iri_perspective_cent*D_A_agreeableness_cent,
# perspective taking moderators (for conscientiousness)
PTxC_B = B_iri_perspective_cent*B_C_conscientiousness_cent,
PTxC_D = D_iri_perspective_cent*D_A_conscientiousness_cent,
# perspective taking moderators (for neuroticism)
PTxN_B = B_iri_perspective_cent*B_C_neuroticism_cent,
PTxN_D = D_iri_perspective_cent*D_A_neuroticism_cent,
# perspective taking moderators (for openness)
PTxO_B = B_iri_perspective_cent*B_C_openness_cent,
PTxO_D = D_iri_perspective_cent*D_A_openness_cent,
# perspective taking moderators (for hp)
PTxHP_B = B_iri_perspective_cent*B_C_hp_cent,
PTxHP_D = D_iri_perspective_cent*D_A_hp_cent,
# empathic concern moderators (for extraversion)
empxE_B = B_iri_empathic_cent*B_C_extraversion_cent,
empxE_D = D_iri_empathic_cent*D_A_extraversion_cent,
# empathic concern moderators (for agreeableness)
empxA_B = B_iri_empathic_cent*B_C_agreeableness_cent,
empxA_D = D_iri_empathic_cent*D_A_agreeableness_cent,
# empathic concern moderators (for conscientiousness)
empxC_B = B_iri_empathic_cent*B_C_conscientiousness_cent,
empxC_D = D_iri_empathic_cent*D_A_conscientiousness_cent,
# empathic concern moderators (for neuroticism)
empxN_B = B_iri_empathic_cent*B_C_neuroticism_cent,
empxN_D = D_iri_empathic_cent*D_A_neuroticism_cent,
# empathic concern moderators (for openness)
empxO_B = B_iri_empathic_cent*B_C_openness_cent,
empxO_D = D_iri_empathic_cent*D_A_openness_cent,
# empathic concern moderators (for hp)
empxHP_B = B_iri_empathic_cent*B_C_hp_cent,
empxHP_D = D_iri_empathic_cent*D_A_hp_cent,
# personal distress moderators (for extraversion)
disxE_B = B_iri_distress_cent*B_C_extraversion_cent,
disxE_D = D_iri_distress_cent*D_A_extraversion_cent,
# personal distress moderators (for agreeableness)
disxA_B = B_iri_distress_cent*B_C_agreeableness_cent,
disxA_D = D_iri_distress_cent*D_A_agreeableness_cent,
# personal distress moderators (for conscientiousness)
disxC_B = B_iri_distress_cent*B_C_conscientiousness_cent,
disxC_D = D_iri_distress_cent*D_A_conscientiousness_cent,
# personal distress moderators (for neuroticism)
disxN_B = B_iri_distress_cent*B_C_neuroticism_cent,
disxN_D = D_iri_distress_cent*D_A_neuroticism_cent,
# personal distress moderators (for openness)
disxO_B = B_iri_distress_cent*B_C_openness_cent,
disxO_D = D_iri_distress_cent*D_A_openness_cent,
# personal distress moderators (for hp)
disxHP_B = B_iri_distress_cent*B_C_hp_cent,
disxHP_D = D_iri_distress_cent*D_A_hp_cent,
# fantasy moderators (for extraversion)
fantxE_B = B_iri_fantasy_cent*B_C_extraversion_cent,
fantxE_D = D_iri_fantasy_cent*D_A_extraversion_cent,
# fantasy moderators (for agreeableness)
fantxA_B = B_iri_fantasy_cent*B_C_agreeableness_cent,
fantxA_D = D_iri_fantasy_cent*D_A_agreeableness_cent,
# fantasy moderators (for conscientiousness)
fantxC_B = B_iri_fantasy_cent*B_C_conscientiousness_cent,
fantxC_D = D_iri_fantasy_cent*D_A_conscientiousness_cent,
# fantasy moderators (for neuroticism)
fantxN_B = B_iri_fantasy_cent*B_C_neuroticism_cent,
fantxN_D = D_iri_fantasy_cent*D_A_neuroticism_cent,
# fantasy moderators (for openness)
fantxO_B = B_iri_fantasy_cent*B_C_openness_cent,
fantxO_D = D_iri_fantasy_cent*D_A_openness_cent,
# fantasy moderators (for hp)
fantxHP_B = B_iri_fantasy_cent*B_C_hp_cent,
fantxHP_D = D_iri_fantasy_cent*D_A_hp_cent)
study2 <-
study2 %>%
# First, mean center the predictors,
# since this is a continuous by continuous interaction.
# We'll do this scale()
mutate(
# first, mean center P2 ratings for each domain
B_C_extraversion_cent      = scale(B_C_extraversion, scale = FALSE),
D_A_extraversion_cent      = scale(D_A_extraversion, scale = FALSE),
B_C_agreeableness_cent     = scale(B_C_agreeableness, scale = FALSE),
D_A_agreeableness_cent     = scale(D_A_agreeableness, scale = FALSE),
B_C_conscientiousness_cent = scale(B_C_conscientiousness, scale = FALSE),
D_A_conscientiousness_cent = scale(D_A_conscientiousness, scale = FALSE),
B_C_neuroticism_cent       = scale(B_C_neuroticism, scale = FALSE),
D_A_neuroticism_cent       = scale(D_A_neuroticism, scale = FALSE),
B_C_openness_cent          = scale(B_C_openness, scale = FALSE),
D_A_openness_cent          = scale(D_A_openness, scale = FALSE),
B_C_hp_cent                = scale(B_C_hp, scale = FALSE),
D_A_hp_cent                = scale(D_A_hp, scale = FALSE),
# next, mean center empathy subscales (only have B and D for this)
# this is a proposed moderator of consensus/accuracy
B_iri_perspective_cent     = scale(B_iri_perspective, scale = FALSE),
D_iri_perspective_cent     = scale(D_iri_perspective, scale = FALSE),
B_iri_empathic_cent        = scale(B_iri_empathic, scale = FALSE),
D_iri_empathic_cent        = scale(D_iri_empathic, scale = FALSE),
B_iri_distress_cent        = scale(B_iri_distress, scale = FALSE),
D_iri_distress_cent        = scale(D_iri_distress, scale = FALSE),
B_iri_fantasy_cent         = scale(B_iri_fantasy, scale = FALSE),
D_iri_fantasy_cent         = scale(D_iri_fantasy, scale = FALSE),
# mean center self-reported extraversion
# this is a proposed moderator of consensus/accuracy
A_A_extraversion_cent      = scale(A_A_extraversion, scale = FALSE),
C_C_extraversion_cent      = scale(C_C_extraversion, scale = FALSE),
A_C_extraversion_cent      = scale(A_C_extraversion, scale = FALSE),
C_A_extraversion_cent      = scale(C_A_extraversion, scale = FALSE),
B_B_extraversion_cent      = scale(B_B_extraversion, scale = FALSE),
D_D_extraversion_cent      = scale(D_D_extraversion, scale = FALSE)) %>%
# Next, create interaction terms
mutate(
# Extraversion moderators (for extraversion)
extraXextra_AB = A_A_extraversion_cent*B_C_extraversion_cent,
extraXextra_CD = C_C_extraversion_cent*D_A_extraversion_cent,
extraXextra_BB = B_B_extraversion_cent*B_C_extraversion_cent,
extraXextra_DD = D_D_extraversion_cent*D_A_extraversion_cent,
extraXextra_CB = C_C_extraversion_cent*B_C_extraversion_cent,
extraXextra_AD = A_A_extraversion_cent*D_A_extraversion_cent,
# Extraversion moderators (for agreeableness)
extraXagree_AB = A_A_extraversion_cent*B_C_agreeableness_cent,
extraXagree_CD = C_C_extraversion_cent*D_A_agreeableness_cent,
extraXagree_BB = B_B_extraversion_cent*B_C_agreeableness_cent,
extraXagree_DD = D_D_extraversion_cent*D_A_agreeableness_cent,
extraXagree_CB = C_C_extraversion_cent*B_C_agreeableness_cent,
extraXagree_AD = A_A_extraversion_cent*D_A_agreeableness_cent,
# Extraversion moderators (for conscientiousness)
extraXconsc_AB = A_A_extraversion_cent*B_C_conscientiousness_cent,
extraXconsc_CD = C_C_extraversion_cent*D_A_conscientiousness_cent,
extraXconsc_BB = B_B_extraversion_cent*B_C_conscientiousness_cent,
extraXconsc_DD = D_D_extraversion_cent*D_A_conscientiousness_cent,
extraXconsc_CB = C_C_extraversion_cent*B_C_conscientiousness_cent,
extraXconsc_AD = A_A_extraversion_cent*D_A_conscientiousness_cent,
# Extraversion moderators (for Neuroticism)
extraXneuro_AB = A_A_extraversion_cent*B_C_neuroticism_cent,
extraXneuro_CD = C_C_extraversion_cent*D_A_neuroticism_cent,
extraXneuro_BB = B_B_extraversion_cent*B_C_neuroticism_cent,
extraXneuro_DD = D_D_extraversion_cent*D_A_neuroticism_cent,
extraXneuro_CB = C_C_extraversion_cent*B_C_neuroticism_cent,
extraXneuro_AD = A_A_extraversion_cent*D_A_neuroticism_cent,
# Extraversion moderators (for Openness)
extraXopen_AB = A_A_extraversion_cent*B_C_openness_cent,
extraXopen_CD = C_C_extraversion_cent*D_A_openness_cent,
extraXopen_BB = B_B_extraversion_cent*B_C_openness_cent,
extraXopen_DD = D_D_extraversion_cent*D_A_openness_cent,
extraXopen_CB = C_C_extraversion_cent*B_C_openness_cent,
extraXopen_AD = A_A_extraversion_cent*D_A_openness_cent,
# Extraversion moderators (for HP)
extraXhp_AB = A_A_extraversion_cent*B_C_hp_cent,
extraXhp_CD = C_C_extraversion_cent*D_A_hp_cent,
extraXhp_BB = B_B_extraversion_cent*B_C_hp_cent,
extraXhp_DD = D_D_extraversion_cent*D_A_hp_cent,
extraXhp_CB = C_C_extraversion_cent*B_C_hp_cent,
extraXhp_AD = A_A_extraversion_cent*D_A_hp_cent,
# perspective taking moderators (for extraversion)
PTxE_B = B_iri_perspective_cent*B_C_extraversion_cent,
PTxE_D = D_iri_perspective_cent*D_A_extraversion_cent,
# perspective taking moderators (for agreeableness)
PTxA_B = B_iri_perspective_cent*B_C_agreeableness_cent,
PTxA_D = D_iri_perspective_cent*D_A_agreeableness_cent,
# perspective taking moderators (for conscientiousness)
PTxC_B = B_iri_perspective_cent*B_C_conscientiousness_cent,
PTxC_D = D_iri_perspective_cent*D_A_conscientiousness_cent,
# perspective taking moderators (for neuroticism)
PTxN_B = B_iri_perspective_cent*B_C_neuroticism_cent,
PTxN_D = D_iri_perspective_cent*D_A_neuroticism_cent,
# perspective taking moderators (for openness)
PTxO_B = B_iri_perspective_cent*B_C_openness_cent,
PTxO_D = D_iri_perspective_cent*D_A_openness_cent,
# perspective taking moderators (for hp)
PTxHP_B = B_iri_perspective_cent*B_C_hp_cent,
PTxHP_D = D_iri_perspective_cent*D_A_hp_cent,
# empathic concern moderators (for extraversion)
empxE_B = B_iri_empathic_cent*B_C_extraversion_cent,
empxE_D = D_iri_empathic_cent*D_A_extraversion_cent,
# empathic concern moderators (for agreeableness)
empxA_B = B_iri_empathic_cent*B_C_agreeableness_cent,
empxA_D = D_iri_empathic_cent*D_A_agreeableness_cent,
# empathic concern moderators (for conscientiousness)
empxC_B = B_iri_empathic_cent*B_C_conscientiousness_cent,
empxC_D = D_iri_empathic_cent*D_A_conscientiousness_cent,
# empathic concern moderators (for neuroticism)
empxN_B = B_iri_empathic_cent*B_C_neuroticism_cent,
empxN_D = D_iri_empathic_cent*D_A_neuroticism_cent,
# empathic concern moderators (for openness)
empxO_B = B_iri_empathic_cent*B_C_openness_cent,
empxO_D = D_iri_empathic_cent*D_A_openness_cent,
# empathic concern moderators (for hp)
empxHP_B = B_iri_empathic_cent*B_C_hp_cent,
empxHP_D = D_iri_empathic_cent*D_A_hp_cent,
# personal distress moderators (for extraversion)
disxE_B = B_iri_distress_cent*B_C_extraversion_cent,
disxE_D = D_iri_distress_cent*D_A_extraversion_cent,
# personal distress moderators (for agreeableness)
disxA_B = B_iri_distress_cent*B_C_agreeableness_cent,
disxA_D = D_iri_distress_cent*D_A_agreeableness_cent,
# personal distress moderators (for conscientiousness)
disxC_B = B_iri_distress_cent*B_C_conscientiousness_cent,
disxC_D = D_iri_distress_cent*D_A_conscientiousness_cent,
# personal distress moderators (for neuroticism)
disxN_B = B_iri_distress_cent*B_C_neuroticism_cent,
disxN_D = D_iri_distress_cent*D_A_neuroticism_cent,
# personal distress moderators (for openness)
disxO_B = B_iri_distress_cent*B_C_openness_cent,
disxO_D = D_iri_distress_cent*D_A_openness_cent,
# personal distress moderators (for hp)
disxHP_B = B_iri_distress_cent*B_C_hp_cent,
disxHP_D = D_iri_distress_cent*D_A_hp_cent,
# fantasy moderators (for extraversion)
fantxE_B = B_iri_fantasy_cent*B_C_extraversion_cent,
fantxE_D = D_iri_fantasy_cent*D_A_extraversion_cent,
# fantasy moderators (for agreeableness)
fantxA_B = B_iri_fantasy_cent*B_C_agreeableness_cent,
fantxA_D = D_iri_fantasy_cent*D_A_agreeableness_cent,
# fantasy moderators (for conscientiousness)
fantxC_B = B_iri_fantasy_cent*B_C_conscientiousness_cent,
fantxC_D = D_iri_fantasy_cent*D_A_conscientiousness_cent,
# fantasy moderators (for neuroticism)
fantxN_B = B_iri_fantasy_cent*B_C_neuroticism_cent,
fantxN_D = D_iri_fantasy_cent*D_A_neuroticism_cent,
# fantasy moderators (for openness)
fantxO_B = B_iri_fantasy_cent*B_C_openness_cent,
fantxO_D = D_iri_fantasy_cent*D_A_openness_cent,
# fantasy moderators (for hp)
fantxHP_B = B_iri_fantasy_cent*B_C_hp_cent,
fantxHP_D = D_iri_fantasy_cent*D_A_hp_cent)
study1 <- mutate(study1, study = "study 1")
study2 <- mutate(study2, study = "study 2")
study2 %>%
# Remove STudy
.[, colnames(.) %in% colnames(study1)]
study2 %>%
# Remove STudy
.[, colnames(.) %in% colnames(study1)] %>%
rbind(study1)
integrated <- study2 %>%
# Remove STudy
.[, colnames(.) %in% colnames(study1)] %>%
rbind(study1) %>%
select(study, sess_id, everything()) %>%
arrange(study)
integrated
study1_ac <- import("../../Data/Study_1/tidy_database/rep_s1_main_ac_tidy.csv")
library(rio)
library(rio)
library(tidyverse)
study1_ac <- import("../../Data/Study_1/tidy_database/rep_s1_main_ac_tidy.csv")
study1_bd <- import("../../Data/Study_1/tidy_database/rep_s1_main_bd_tidy.csv")
study1_bd
study1_ac
study1_ac
colnames(study1_ac)
colnames(study1_bd)
study1_fill <- import("../../Data/Study_1/tidy_database/fill_q_tidy.csv")
study1_fill <- import("../../Data/Study_1/tidy_database/rep_s1_fill_q_tidy.csv")
study1_ac %>%
filter(str_detect(item, "bfi_"))
study1_ac %>%
# filter for bfi items
filter(str_detect(item, "bfi_"),
# filter out P1s ratings of P2s
target_id != "B",
target_id != "D",
# filter out meta-perceptions
target_id != "B_C",
target_id !="D_A")
68 + 68
study1_ac %>%
# filter for bfi items
filter(str_detect(item, "bfi_"),
# filter out P1s ratings of P2s
target_id != "B",
target_id != "D",
# filter out meta-perceptions
target_id != "B_C",
target_id !="D_A") %>%
unite(var, perceiver_id, target_id, item) %>%
spread(var, rating)
study1_bd %>%
# filter for bfi items
filter(str_detect(item, "bfi_"),
# filter out P2s ratings of P1s
perceiver_id == "B" | target_id == "A",
perceiver_id == "D" | target_id == "C",
# filter out meta-perceptions
target_id != "A_C",
target_id !="C_A")
study1_bd %>%
# filter for bfi items
filter(str_detect(item, "bfi_"),
# filter out P2s ratings of P1s
perceiver_id == "B" | target_id == "A",
perceiver_id == "D" | target_id == "C",
# filter out meta-perceptions
target_id != "A_C",
target_id !="C_A") %>%
select(-subj_id, -qltrx_id) %>%
unite(var, perceiver_id, target_id, item) %>%
spread(var, rating)
study1_ac %>%
# filter for bfi items
filter(str_detect(item, "bfi_"),
# filter out P1s ratings of P2s
target_id != "B",
target_id != "D",
# filter out meta-perceptions
target_id != "B_C",
target_id !="D_A")
study1_fill
study1_fill <- %>%
#study1_fill <-
study1_fill %>%
select(subj_id, starts_with("q"))
#study1_emp <-
study1_fill %>%
select(subj_id, starts_with("q")) %>%
# turn subject_id into its two parts: session ID and perceiver ID
separate(subj_id, c("sess_id", "perceiver_id")) %>%
# self-reports, so target_id always equal to perceiver_id
mutate(target_id = perceiver_id,
# recover subj_id
subj_id = paste(sess_id, perceiver_id, sep = "_"))
#study1_emp <-
study1_fill %>%
select(subj_id, starts_with("q"), -qltrx_id) %>%
# turn subject_id into its two parts: session ID and perceiver ID
separate(subj_id, c("sess_id", "perceiver_id")) %>%
# self-reports, so target_id always equal to perceiver_id
mutate(target_id = perceiver_id,
# recover subj_id
subj_id = paste(sess_id, perceiver_id, sep = "_")) %>%
select(subj_id, sess_id, perceiver_id, target_id, everything())
#study1_emp <-
study1_fill %>%
select(subj_id, starts_with("q"), -qltrx_id) %>%
# turn subject_id into its two parts: session ID and perceiver ID
separate(subj_id, c("sess_id", "perceiver_id")) %>%
# self-reports, so target_id always equal to perceiver_id
mutate(target_id = perceiver_id,
# recover subj_id
subj_id = paste(sess_id, perceiver_id, sep = "_")) %>%
select(subj_id, sess_id, perceiver_id, target_id, everything()) %>%
gather(item, rating, -(1:4))
study1_emp <-
study1_fill %>%
select(subj_id, starts_with("q"), -qltrx_id) %>%
# turn subject_id into its two parts: session ID and perceiver ID
separate(subj_id, c("sess_id", "perceiver_id")) %>%
# self-reports, so target_id always equal to perceiver_id
mutate(target_id = perceiver_id,
# recover subj_id
subj_id = paste(sess_id, perceiver_id, sep = "_")) %>%
select(subj_id, sess_id, perceiver_id, target_id, everything()) %>%
gather(item, rating, -(1:4))
installed.packages()
installed.packages()$packages
installed.packages() %>% str()
str(installed.packages())
installed.packages()[,1]
if("magrittr" %in% installed.packages()[,1]){print("t")}
if("magrittr" !%in% installed.packages()[,1]){print("t")}
if("rio" !%in% installed.packages()[,1]){install.packages("rio")}
# Make sure necessary packages are installed
if("rio" !%in% installed.packages()[,1]){install.packages("rio")}
# Make sure necessary packages are installed
if("rio" !(%in% installed.packages()[,1])){install.packages("rio")}
# Make sure necessary packages are installed
if("rio" !(%in% installed.packages()[,1])){install.packages("rio")}
# Make sure necessary packages are installed
if("rio" !%in% installed.packages()[,1]){install.packages("rio")}
"rio" %in% installed.packages()[,1]
# Make sure necessary packages are installed
if("rio" %in% installed.packages()[,1] == FALSE){install.packages("rio")}
if("magrittr" %in% installed.packages()[,1] == FALSE){install.packages("tidyverse")}
if("ReputationModelR" %in% installed.packages()[,1] == FALSE){devtools::install_github("Coryc3133/ReputationModelR")}
